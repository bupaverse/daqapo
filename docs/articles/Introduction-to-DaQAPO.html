<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to DaQAPO • daqapo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to DaQAPO">
<meta property="og:description" content="daqapo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">daqapo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction-to-DaQAPO.html">Introduction to DaQAPO</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nielsmartin/daqapo/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to DaQAPO</h1>
                        <h4 class="author">Niels Martin and Greg Van Houdt, Hasselt University, Research group Business Informatics</h4>
            
            <h4 class="date">2020-04-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nielsmartin/daqapo/blob/master/vignettes/Introduction-to-DaQAPO.Rmd"><code>vignettes/Introduction-to-DaQAPO.Rmd</code></a></small>
      <div class="hidden name"><code>Introduction-to-DaQAPO.Rmd</code></div>

    </div>

    
    
<p>Process mining techniques generate valuable insights in business processes using automatically generated process execution data. However, despite the extensive opportunities that process mining techniques provide, the garbage in - garbage out principle still applies. Data quality issues are widespread in real-life data and can generate misleading results when used for analysis purposes. Currently, there is no systematic way to perform data quality assessment on process-oriented data. To fill this gap, we introduce DaQAPO - Data Quality Assessment for Process-Oriented data. It provides a set of assessment functions to identify a wide array of quality issues.</p>
<p>We identify two stages in the data quality assessment process:</p>
<ol style="list-style-type: decimal">
<li>Reading and preparing data;</li>
<li>Assessing the data quality - running quality tests.</li>
</ol>
<p>If the user desires to remove anomalies detected by quality tests, he has the ability to do so.</p>
<p>Besides reading through this vignette, you can also run an interactive demo of <code>DaQAPO</code> in <a href="https://swirlstats.com/">Swirl</a>. Download the course from <a href="https://github.com/nielsmartin/Introduction_to_DaQAPO">Github</a>.</p>
<div id="data-sources" class="section level2">
<h2 class="hasAnchor">
<a href="#data-sources" class="anchor"></a>Data Sources</h2>
<p>Before we can perform the first stage - reading data - we must have access to the appropriate data sources and have knowledge of the expected data structure. Our package supports two input data formats:</p>
<ul>
<li>
<strong>An activity log</strong>: each line in the log represents an activity instance, i.e. the execution of an activity for a specific case (e.g. a client, a patient, a file,…) by a specific resource. Hence, an activity instance has a duration.</li>
<li>
<strong>An event log</strong>: each line in the log represents an event recorded for a specific activity instance, expressing for instance its start or its completion. Therefore, an event has no duration.</li>
</ul>
<p>Two example datasets are included in <code>daqapo</code>. These are <code>hospital</code> and <code>hospital_events</code>. Below, you can find their respective structures.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r">str(hospital)
#&gt; Classes 'tbl_df', 'tbl' and 'data.frame':    53 obs. of  7 variables:
#&gt;  $ patient_visit_nr: num  510 512 510 512 512 510 517 518 518 518 ...
#&gt;  $ activity        : chr  "registration" "Registration" "Triage" "Triage" ...
#&gt;  $ originator      : chr  "Clerk 9" "Clerk 12" "Nurse 27" "Nurse 27" ...
#&gt;  $ start_ts        : chr  "20/11/2017 10:18:17" "20/11/2017 10:33:14" "20/11/2017 10:34:08" "20/11/2017 10:44:12" ...
#&gt;  $ complete_ts     : chr  "20/11/2017 10:20:06" "20/11/2017 10:37:00" "20/11/2017 10:41:48" "20/11/2017 10:50:17" ...
#&gt;  $ triagecode      : num  3 3 3 3 3 NA 3 4 4 4 ...
#&gt;  $ specialization  : chr  "TRAU" "URG" "TRAU" "URG" ...</pre></body></html></div>
<div class="sourceCode" id="cb2"><html><body><pre class="r">str(hospital_events)
#&gt; Classes 'tbl_df', 'tbl' and 'data.frame':    106 obs. of  8 variables:
#&gt;  $ patient_visit_nr     : num  510 510 510 510 510 510 512 512 512 512 ...
#&gt;  $ activity             : chr  "registration" "registration" "Triage" "Triage" ...
#&gt;  $ originator           : chr  "Clerk 9" "Clerk 9" "Nurse 27" "Nurse 27" ...
#&gt;  $ event_lifecycle_state: chr  "start" "complete" "start" "complete" ...
#&gt;  $ timestamp            : chr  "20/11/2017 10:18:17" "20/11/2017 10:20:06" "20/11/2017 10:34:08" "20/11/2017 10:41:48" ...
#&gt;  $ triagecode           : num  3 3 3 3 NA NA 3 3 3 3 ...
#&gt;  $ specialization       : chr  "TRAU" "TRAU" "TRAU" "TRAU" ...
#&gt;  $ event_matching       : num  1 1 1 1 1 1 1 1 1 1 ...</pre></body></html></div>
<p>Both datasets were artificially created merely to illustrate the package’s functionalities.</p>
</div>
<div id="stage-1---read-in-data" class="section level2">
<h2 class="hasAnchor">
<a href="#stage-1---read-in-data" class="anchor"></a>Stage 1 - Read in data</h2>
<p>First of all, data must be read and prepared such that the quality assessment tests can be executed. Data preparation requires transforming the dataset to a standardised activity log format. However, earlier we mentioned two input data formats: an activity log and an event log. When an event log is available, it needs to be converted to an activity log. <code>DaQAPO</code> provides a set of functions to assist the user in this process.</p>
<div id="preparing-an-activity-log" class="section level3">
<h3 class="hasAnchor">
<a href="#preparing-an-activity-log" class="anchor"></a>Preparing an Activity Log</h3>
<p>As mentioned earlier, the goal of reading and preparing data is to obtain a standardised activity log format. When your source data is already in this format, preparations come down to the following elements:</p>
<ul>
<li>Providing appropriate names for timestamp columns</li>
<li>Applying the <code>POSIXct</code> timestamp format</li>
</ul>
<p>For this section, the dataset <code>hospital</code> will be used to illustrate data preparations. Two main functions help the user to prepare his/her own dataset:</p>
<ul>
<li><code>rename</code></li>
<li><code>convert_timestamp</code></li>
<li><code>activitylog</code></li>
</ul>
<div id="rename" class="section level4">
<h4 class="hasAnchor">
<a href="#rename" class="anchor"></a>Rename</h4>
<div class="sourceCode" id="cb3"><html><body><pre class="r">hospital %&gt;%
  rename(start = start_ts,
         complete = complete_ts) -&gt; hospital</pre></body></html></div>
</div>
<div id="convert-format" class="section level4">
<h4 class="hasAnchor">
<a href="#convert-format" class="anchor"></a>Convert format</h4>
<div class="sourceCode" id="cb4"><html><body><pre class="r">hospital %&gt;%
  convert_timestamps(c("start","complete"), format = dmy_hms) -&gt; hospital
#&gt; Error in convert_timestamps(., c("start", "complete"), format = dmy_hms): could not find function "convert_timestamps"</pre></body></html></div>
</div>
<div id="create-activitylog" class="section level4">
<h4 class="hasAnchor">
<a href="#create-activitylog" class="anchor"></a>Create activitylog</h4>
<div class="sourceCode" id="cb5"><html><body><pre class="r">hospital %&gt;%
  activitylog(case_id = "patient_visit_nr",
              activity_id = "activity",
              resource_id = "originator",
              lifecycle_ids = c("start", "complete")) -&gt; hospital
#&gt; Error in activitylog(., case_id = "patient_visit_nr", activity_id = "activity", : could not find function "activitylog"</pre></body></html></div>
</div>
</div>
<div id="preparing-an-event-log" class="section level3">
<h3 class="hasAnchor">
<a href="#preparing-an-event-log" class="anchor"></a>Preparing an Event Log</h3>
<p>With event logs, things are a bit more complex. In an event log, each row represents only a part of an activity instance. Therefore, more complex data transformations must be executed and several problems could arise. In this section, we will use an event log variant of the activity log used earlier, named <code>hospital_events</code>. three functions form the building blocks of the required data preparation:</p>
<ul>
<li><code>convert_timestamps</code></li>
<li><code>assign_instance_id</code></li>
<li><code>check/fix_resource_inconsistencies</code></li>
<li><code>standardize_lifecycle</code></li>
<li><code>events_to_activitylog</code></li>
</ul>
<div class="sourceCode" id="cb6"><html><body><pre class="r">hospital_events
#&gt; # A tibble: 106 x 8
#&gt;    patient_visit_nr activity originator event_lifecycle~ timestamp
#&gt;               <dbl><chr><chr><chr><chr>    
#&gt;  1              510 registr~ Clerk 9    start            20/11/20~
#&gt;  2              510 registr~ Clerk 9    complete         20/11/20~
#&gt;  3              510 Triage   Nurse 27   start            20/11/20~
#&gt;  4              510 Triage   Nurse 27   complete         20/11/20~
#&gt;  5              510 Clinica~ Doctor 7   start            20/11/20~
#&gt;  6              510 Clinica~ Doctor 4   complete         20/11/20~
#&gt;  7              512 Registr~ Clerk 12   start            20/11/20~
#&gt;  8              512 Registr~ Clerk 12   complete         20/11/20~
#&gt;  9              512 Triage   Nurse 27   start            20/11/20~
#&gt; 10              512 Triage   Nurse 27   complete         20/11/20~
#&gt; # ... with 96 more rows, and 3 more variables: triagecode <dbl>,
#&gt; #   specialization <chr>, event_matching <dbl></dbl></chr></dbl></chr></chr></chr></chr></dbl></pre></body></html></div>
<div class="sourceCode" id="cb7"><html><body><pre class="r">hospital_events %&gt;%
  convert_timestamps(c("timestamp"), format = dmy_hms) %&gt;%
  mutate(event_matching = paste(patient_visit_nr, activity, event_matching)) %&gt;%
  events_to_activitylog(case_id = "patient_visit_nr", 
                        activity_id = "activity", 
                        activity_instance_id = "event_matching", 
                        timestamp = "timestamp", 
                        resource_id = "originator",
                        lifecycle_id = "event_lifecycle_state") -&gt; hospital_events
#&gt; Error in convert_timestamps(., c("timestamp"), format = dmy_hms): could not find function "convert_timestamps"</pre></body></html></div>
</div>
</div>
<div id="stage-2---data-quality-assessment" class="section level2">
<h2 class="hasAnchor">
<a href="#stage-2---data-quality-assessment" class="anchor"></a>Stage 2 - Data Quality Assessment</h2>
<p>The table below summarizes the different data quality assessment tests available in DaQAPO.</p>
<table class="table">
<caption>An overview of data quality tests in DaQAPO.</caption>
<colgroup>
<col width="22%">
<col width="52%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">Function name</th>
<th align="left">Description</th>
<th align="left">Output</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">missing_values</td>
<td align="left">Function detecting missing values at different levels of aggregation</td>
<td align="left">Summary in console + Returns rows with NAs</td>
</tr>
<tr class="even">
<td align="left">similar_labels</td>
<td align="left">Function detecting potential spelling mistakes</td>
<td align="left">Table showing similarities for each label</td>
</tr>
<tr class="odd">
<td align="left">incorrect_activity_names</td>
<td align="left">Function returning the incorrect activity labels in the log</td>
<td align="left">Summary in console + Returns rows with incorrect activities</td>
</tr>
<tr class="even">
<td align="left">unique_values</td>
<td align="left">Function listing all distinct combinations of the given log attributes</td>
<td align="left">Summary in console + Returns all unique combinations of values in given columns</td>
</tr>
<tr class="odd">
<td align="left">value_range</td>
<td align="left">Function detecting violations of the range of acceptable values</td>
<td align="left">Summary in console + Returns rows with value range infringements</td>
</tr>
<tr class="even">
<td align="left">incomplete_cases</td>
<td align="left">Function detecting incomplete cases in terms of the activities that need to be recorded for a case</td>
<td align="left">Summary in console + Returns traces in which the mentioned activities are not present</td>
</tr>
<tr class="odd">
<td align="left">time_anomalies</td>
<td align="left">Funtion detecting activity executions with negative or zero duration</td>
<td align="left">Summary in console + Returns rows with negative or zero durations</td>
</tr>
<tr class="even">
<td align="left">duration_outliers</td>
<td align="left">Function detecting duration outliers for a particular activity</td>
<td align="left">Summary in console + Returns rows with outliers</td>
</tr>
<tr class="odd">
<td align="left">inactive_periods</td>
<td align="left">Function detecting inactive periods, i.e. periods of time in which no activity executions/arrivals are recorded</td>
<td align="left">Summary in console + Returns periods of inactivity</td>
</tr>
<tr class="even">
<td align="left">case_id_sequence</td>
<td align="left">Function detecting gaps in the sequence of case identifiers</td>
<td align="left">Summary in console + Returns case IDs which should be expected to be present</td>
</tr>
<tr class="odd">
<td align="left">multi_registration</td>
<td align="left">Function detecting the registration of a series of events in a short timestamp for the same case or by the same resource</td>
<td align="left">Summary in console + Returns rows with multiregistration on resource or case level</td>
</tr>
<tr class="even">
<td align="left">activity_frequency</td>
<td align="left">Function that detects activity frequency anomalies per case</td>
<td align="left">Summary in console + Returns activities in cases which are executed too many times</td>
</tr>
<tr class="odd">
<td align="left">activity_order</td>
<td align="left">Function detecting violations in activity order</td>
<td align="left">Summary in console + Returns detected orders which violate the specified order</td>
</tr>
<tr class="even">
<td align="left">attribute_dependency</td>
<td align="left">Function detecting violations of dependencies between attributes (i.e. condition(s) that should hold when (an)other condition(s) hold(s))</td>
<td align="left">Summary in console + Returns rows with dependency violations</td>
</tr>
<tr class="odd">
<td align="left">conditional_activity_presence</td>
<td align="left">Function detection violations of conditional activity presence (i.e. activity/activities that should be present when (a) particular condition(s) hold(s))</td>
<td align="left">Summary in console + Returns cases violating conditional activity presence</td>
</tr>
<tr class="even">
<td align="left">related_activities</td>
<td align="left">Function detecting missing related activities, i.e. activities that should be registered because another activity is registered for a case</td>
<td align="left">Summary in console + Returns cases violating relating activities</td>
</tr>
<tr class="odd">
<td align="left">filter_anomalies</td>
<td align="left">Function that filters detected anomalies, returned by the assessment tests, from the activity log</td>
<td align="left">The activity log without anomalies</td>
</tr>
</tbody>
</table>
<p>To illustrate the use of these assessment functions, four functions outlined in the table above are demonstrated in the remainder of this vignette.</p>
<div id="activity-frequency-violations" class="section level3">
<h3 class="hasAnchor">
<a href="#activity-frequency-violations" class="anchor"></a>Activity Frequency violations</h3>
<div class="sourceCode" id="cb8"><html><body><pre class="r">hospital %&gt;%
  detect_activity_frequency_violations("Registration" = 1,
                                       "Clinical exam" = 1)
#&gt; Error in detect_activity_frequency_violations(., Registration = 1, `Clinical exam` = 1): The following columns, which are required for the test, were not found in the activity log: case_id.
#&gt;   Please check rename_activity_log.</pre></body></html></div>
</div>
<div id="activity-order-violations" class="section level3">
<h3 class="hasAnchor">
<a href="#activity-order-violations" class="anchor"></a>Activity Order Violations</h3>
</div>
<div id="attribute-dependencies" class="section level3">
<h3 class="hasAnchor">
<a href="#attribute-dependencies" class="anchor"></a>Attribute dependencies</h3>
<div class="sourceCode" id="cb9"><html><body><pre class="r">hospital %&gt;% 
  detect_attribute_dependencies(antecedent = activity == "Registration",
                                consequent = startsWith(originator,"Clerk"))
#&gt; Error in detect_attribute_dependencies(., antecedent = activity == "Registration", : unused arguments (antecedent = activity == "Registration", consequent = startsWith(originator, "Clerk"))</pre></body></html></div>
</div>
<div id="detect-case-id-sequence-gaps" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-case-id-sequence-gaps" class="anchor"></a>Detect Case ID sequence gaps</h3>
<div class="sourceCode" id="cb10"><html><body><pre class="r">hospital %&gt;%
  detect_case_id_sequence_gaps()
#&gt; Error in detect_case_id_sequence_gaps(.): The following columns, which are required for the test, were not found in the activity log: case_id.
#&gt;   Please check rename_activity_log.</pre></body></html></div>
</div>
<div id="detect-conditional-activity-presence" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-conditional-activity-presence" class="anchor"></a>Detect Conditional Activity Presence</h3>
<div class="sourceCode" id="cb11"><html><body><pre class="r">hospital %&gt;%
  detect_conditional_activity_presence(condition = specialization == "TRAU",
                                       activities = "Clinical exam")
#&gt; Error in detect_conditional_activity_presence(., condition = specialization == : unused argument (activities = "Clinical exam")</pre></body></html></div>
</div>
<div id="detect-duration-outliers" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-duration-outliers" class="anchor"></a>Detect Duration Outliers</h3>
<div class="sourceCode" id="cb12"><html><body><pre class="r">hospital %&gt;%
  detect_duration_outliers(Treatment = duration_within(bound_sd = 1))
#&gt; Error in detect_duration_outliers(., Treatment = duration_within(bound_sd = 1)): unused argument (Treatment = duration_within(bound_sd = 1))</pre></body></html></div>
<div class="sourceCode" id="cb13"><html><body><pre class="r">hospital %&gt;%
  detect_duration_outliers(Treatment = duration_within(lower_bound = 0, upper_bound = 15))
#&gt; Error in detect_duration_outliers(., Treatment = duration_within(lower_bound = 0, : unused argument (Treatment = duration_within(lower_bound = 0, upper_bound = 15))</pre></body></html></div>
</div>
<div id="detect-inactive-periods" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-inactive-periods" class="anchor"></a>Detect inactive periods</h3>
</div>
<div id="detect-incomplete-cases" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-incomplete-cases" class="anchor"></a>Detect incomplete cases</h3>
<div class="sourceCode" id="cb14"><html><body><pre class="r">hospital %&gt;%
  detect_incomplete_cases(activities = c("Registration","Triage","Clinical exam","Treatment","Treatment evaluation"))
#&gt; Error in detect_incomplete_cases(., activities = c("Registration", "Triage", : unused argument (activities = c("Registration", "Triage", "Clinical exam", "Treatment", "Treatment evaluation"))</pre></body></html></div>
</div>
<div id="detect-incorrect-activity-names" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-incorrect-activity-names" class="anchor"></a>Detect Incorrect Activity Names</h3>
<div class="sourceCode" id="cb15"><html><body><pre class="r">hospital %&gt;%
  detect_incorrect_activity_names(allowed_activities = c("Registration","Triage","Clinical exam","Treatment","Treatment evaluation"))
#&gt; Error in detect_incorrect_activity_names(., allowed_activities = c("Registration", : unused argument (allowed_activities = c("Registration", "Triage", "Clinical exam", "Treatment", "Treatment evaluation"))</pre></body></html></div>
</div>
<div id="detect-missing-values" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-missing-values" class="anchor"></a>Detect Missing Values</h3>
<div class="sourceCode" id="cb16"><html><body><pre class="r">hospital %&gt;%
  detect_missing_values(column = "activity")
#&gt; Error in detect_missing_values(., column = "activity"): unused argument (column = "activity")
## column heeft hier geen zin?!</pre></body></html></div>
<div class="sourceCode" id="cb17"><html><body><pre class="r">hospital %&gt;% 
  detect_missing_values(level_of_aggregation = "activity")
#&gt; Selected level of aggregation: activity 
#&gt;  
#&gt; *** OUTPUT *** 
#&gt; Absolute number of missing values per column (per activity): 
#&gt; # A tibble: 9 x 7
#&gt;   activity patient_visit_nr originator start complete triagecode
#&gt;   <chr><int><int><int><int><int>
#&gt; 1 0                       0          1     0        0          0
#&gt; 2 Clinica~                0          0     1        0          1
#&gt; 3 registr~                0          0     0        0          0
#&gt; 4 Registr~                0          1     0        0          0
#&gt; 5 Trage                   0          0     0        0          0
#&gt; 6 Treatme~                0          0     0        0          0
#&gt; 7 Treatme~                0          0     0        0          0
#&gt; 8 Triaga                  0          0     0        0          0
#&gt; 9 Triage                  0          0     0        0          0
#&gt; # ... with 1 more variable: specialization <int>
#&gt; 
#&gt; Relative number of missing values per column (per activity, expressed as percentage): 
#&gt; # A tibble: 9 x 7
#&gt;   activity patient_visit_nr originator start complete triagecode
#&gt;   <chr><dbl><dbl><dbl><dbl><dbl>
#&gt; 1 0                       0     1      0            0      0    
#&gt; 2 Clinica~                0     0      0.111        0      0.111
#&gt; 3 registr~                0     0      0            0      0    
#&gt; 4 Registr~                0     0.0714 0            0      0    
#&gt; 5 Trage                   0     0      0            0      0    
#&gt; 6 Treatme~                0     0      0            0      0    
#&gt; 7 Treatme~                0     0      0            0      0    
#&gt; 8 Triaga                  0     0      0            0      0    
#&gt; 9 Triage                  0     0      0            0      0    
#&gt; # ... with 1 more variable: specialization <dbl>
#&gt; 
#&gt; Overview of activity log rows which are incomplete:
#&gt; # A tibble: 4 x 7
#&gt;   patient_visit_nr activity originator start complete triagecode
#&gt;              <dbl><chr><chr><chr><chr><dbl>
#&gt; 1              510 Clinica~ Doctor 7   20/1~ 20/11/2~         NA
#&gt; 2              533 0        <na>       22/1~ 22/11/2~          7
#&gt; 3              534 Registr~ <na>       22/1~ 22/11/2~          0
#&gt; 4              512 Clinica~ Doctor 7   <na>  20/11/2~          3
#&gt; # ... with 1 more variable: specialization <chr></chr></na></na></na></dbl></chr></chr></chr></chr></dbl></dbl></dbl></dbl></dbl></dbl></dbl></chr></int></int></int></int></int></int></chr></pre></body></html></div>
<div class="sourceCode" id="cb18"><html><body><pre class="r">hospital %&gt;% 
  detect_missing_values(
  level_of_aggregation = "column",
  column = "triagecode")
#&gt; Error in detect_missing_values(., level_of_aggregation = "column", column = "triagecode"): unused argument (column = "triagecode")</pre></body></html></div>
</div>
<div id="detect-multiregistration" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-multiregistration" class="anchor"></a>Detect Multiregistration</h3>
</div>
<div id="detect-related-activities" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-related-activities" class="anchor"></a>Detect Related activities</h3>
<div class="sourceCode" id="cb19"><html><body><pre class="r">hospital %&gt;%
  detect_related_activities(antecedent = "Treatment evaluation", 
                            consequent = "Treatment")
#&gt; Error in detect_related_activities(., antecedent = "Treatment evaluation", : unused arguments (antecedent = "Treatment evaluation", consequent = "Treatment")</pre></body></html></div>
</div>
<div id="detect-similar-labels" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-similar-labels" class="anchor"></a>Detect similar labels</h3>
<div class="sourceCode" id="cb20"><html><body><pre class="r">hospital %&gt;%
  detect_similar_labels(column_labels = "activity", max_edit_distance = 3)
#&gt; Error in detect_similar_labels(., column_labels = "activity", max_edit_distance = 3): unused argument (column_labels = "activity")</pre></body></html></div>
</div>
<div id="detect-time-anomalies" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-time-anomalies" class="anchor"></a>Detect Time Anomalies</h3>
<div class="sourceCode" id="cb21"><html><body><pre class="r">hospital %&gt;%
  detect_time_anomalies()
#&gt; Selected anomaly type: both 
#&gt;  
#&gt; *** OUTPUT *** 
#&gt; For 51 rows in the activity log ( 96.22642 %), an anomaly is detected. 
#&gt; The anomalies are spread over the activities as follows: 
#&gt; # A tibble: 9 x 3
#&gt; # Groups:   activity [9]
#&gt;   activity             type              n
#&gt;   <chr><chr><int>
#&gt; 1 Triage               zero duration    15
#&gt; 2 Registration         zero duration    14
#&gt; 3 Clinical exam        zero duration     8
#&gt; 4 Treatment            zero duration     5
#&gt; 5 Treatment evaluation zero duration     5
#&gt; 6 0                    zero duration     1
#&gt; 7 registration         zero duration     1
#&gt; 8 Trage                zero duration     1
#&gt; 9 Triaga               zero duration     1
#&gt; 
#&gt;  
#&gt; Anomalies are found in the following rows:
#&gt; # A tibble: 51 x 9
#&gt;    patient_visit_nr activity originator start complete triagecode
#&gt;               <dbl><chr><chr><chr><chr><dbl>
#&gt;  1              510 registr~ Clerk 9    20/1~ 20/11/2~          3
#&gt;  2              512 Registr~ Clerk 12   20/1~ 20/11/2~          3
#&gt;  3              510 Triage   Nurse 27   20/1~ 20/11/2~          3
#&gt;  4              512 Triage   Nurse 27   20/1~ 20/11/2~          3
#&gt;  5              512 Clinica~ Doctor 7   20/1~ 20/11/2~          3
#&gt;  6              510 Clinica~ Doctor 7   20/1~ 20/11/2~         NA
#&gt;  7              517 Triage   Nurse 17   21/1~ 21/11/2~          3
#&gt;  8              518 Registr~ Clerk 12   21/1~ 21/11/2~          4
#&gt;  9              518 Registr~ Clerk 6    21/1~ 21/11/2~          4
#&gt; 10              518 Registr~ Clerk 9    21/1~ 21/11/2~          4
#&gt; # ... with 41 more rows, and 3 more variables: specialization <chr>,
#&gt; #   duration <dbl>, type <chr></chr></dbl></chr></dbl></chr></chr></chr></chr></dbl></int></chr></chr></pre></body></html></div>
</div>
<div id="detect-unique-values" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-unique-values" class="anchor"></a>Detect Unique Values</h3>
<div class="sourceCode" id="cb22"><html><body><pre class="r">hospital %&gt;%
  detect_unique_values(column_labels = "activity")
#&gt; *** OUTPUT *** 
#&gt; Distinct entries are computed for the following columns:
#&gt;   activity
#&gt; # A tibble: 9 x 1
#&gt;   activity            
#&gt;   <chr>               
#&gt; 1 0                   
#&gt; 2 Clinical exam       
#&gt; 3 registration        
#&gt; 4 Registration        
#&gt; 5 Trage               
#&gt; 6 Treatment           
#&gt; 7 Treatment evaluation
#&gt; 8 Triaga              
#&gt; 9 Triage</chr></pre></body></html></div>
<div class="sourceCode" id="cb23"><html><body><pre class="r">hospital %&gt;%
  detect_unique_values(column_labels = c("activity", "originator"))
#&gt; More than one expression parsed</pre></body></html></div>
</div>
<div id="detect-value-range-violations" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-value-range-violations" class="anchor"></a>Detect Value Range Violations</h3>
<div class="sourceCode" id="cb24"><html><body><pre class="r">hospital %&gt;%
  detect_value_range_violations(triagecode = domain_numeric(from = 0, to = 5))
#&gt; Error in detect_value_range_violations(., triagecode = domain_numeric(from = 0, : unused argument (triagecode = domain_numeric(from = 0, to = 5))</pre></body></html></div>
</div>
<div id="detect_value_range_violations" class="section level3">
<h3 class="hasAnchor">
<a href="#detect_value_range_violations" class="anchor"></a><code>detect_value_range_violations()</code>
</h3>
<p>The <code><a href="../reference/detect_value_range_violations.html">detect_value_range_violations()</a></code> function checks whether the values of a passed attribute are within certain bounds for numeric attributes, or in a list of values for a character or factor attribute. For example, the triage code is typically a number between 1 and 5. We can easily test whether all cases abide to this rule.</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r">detect_value_range_violations(hospital, "triagecode" = domain_numeric(1,5))
#&gt; Error in detect_value_range_violations(hospital, triagecode = domain_numeric(1, : unused argument (triagecode = domain_numeric(1, 5))</pre></body></html></div>
<p>Data quality assessment tests provide the user with summary statistics in the console. Also, where appropriate, they return the rows in the log that are considered to be an anomaly. In this case, you get all rows where <code>cattr_triagecode &lt; 1</code> or <code>cattr_triagecode &gt; 5</code>. Therefore, one can simply request the unique cases in this result to get more specific information.</p>
<div class="sourceCode" id="cb26"><html><body><pre class="r">detect_value_range_violations(hospital, "triagecode" = domain_numeric(1,5)) %&gt;%
  distinct(case_id, cattr_triagecode)
#&gt; Error in detect_value_range_violations(hospital, triagecode = domain_numeric(1, : unused argument (triagecode = domain_numeric(1, 5))</pre></body></html></div>
<p>Note that the test will always print output statistics.</p>
</div>
<div id="detect_duration_outliers" class="section level3">
<h3 class="hasAnchor">
<a href="#detect_duration_outliers" class="anchor"></a><code>detect_duration_outliers()</code>
</h3>
<p>This test checks if there are any activities with a deviating duration compared to the average. The bounds of when a duration is considered to be an outlier can be customized by the user.</p>
<div class="sourceCode" id="cb27"><html><body><pre class="r">detect_duration_outliers(hospital, "Clinical exam" = duration_within())
#&gt; Error in detect_duration_outliers(hospital, `Clinical exam` = duration_within()): unused argument (`Clinical exam` = duration_within())</pre></body></html></div>
<p>At this point, no outliers are detected. But say you are more sensitive to duration variance, then you can tweak the bounds by either hard-coding it or by altering the number of standard deviations used to calculate the bounds.</p>
<div class="sourceCode" id="cb28"><html><body><pre class="r">detect_duration_outliers(hospital,  "Clinical exam" = duration_within(bound_sd = 2)) -&gt; anomalies
#&gt; Error in detect_duration_outliers(hospital, `Clinical exam` = duration_within(bound_sd = 2)): unused argument (`Clinical exam` = duration_within(bound_sd = 2))
anomalies
#&gt; Error in eval(expr, envir, enclos): object 'anomalies' not found</pre></body></html></div>
<p>Assume that this line is entered by mistake. In that case, we can easily take the output from this assessment test to correct the hospital dataset. For this purpose, we provide you with <code><a href="../reference/filter_anomalies.html">filter_anomalies()</a></code>.</p>
<div class="sourceCode" id="cb29"><html><body><pre class="r">filter_anomalies(activity_log = hospital, anomaly_log = anomalies) -&gt; hospital
#&gt; Error in tbl_vars_dispatch(x): object 'anomalies' not found</pre></body></html></div>
</div>
<div id="detect_case_id_sequence_gaps" class="section level3">
<h3 class="hasAnchor">
<a href="#detect_case_id_sequence_gaps" class="anchor"></a><code>detect_case_id_sequence_gaps()</code>
</h3>
<p>In our toy dataset, the case identifier is a numeric attribute. Therefore, we can check if there are any cases missing in the sequence.</p>
<div class="sourceCode" id="cb30"><html><body><pre class="r">detect_case_id_sequence_gaps(hospital)
#&gt; Error in detect_case_id_sequence_gaps(hospital): The following columns, which are required for the test, were not found in the activity log: case_id.
#&gt;   Please check rename_activity_log.</pre></body></html></div>
<p>Note that this function can only be applied if the case numbering is unique to the business process under investigation.</p>
</div>
<div id="detect_related_activities" class="section level3">
<h3 class="hasAnchor">
<a href="#detect_related_activities" class="anchor"></a><code>detect_related_activities()</code>
</h3>
<p>Finally, we will demonstrate <code><a href="../reference/detect_related_activities.html">detect_related_activities()</a></code>, where you can check if an activity is recorded for a case if another is present. This link is very clear between a treatment and its evaluation: a treatment can only be evaluated if a treatment was recorded in the first place.</p>
<div class="sourceCode" id="cb31"><html><body><pre class="r">detect_related_activities(hospital, antecedent = "Treatment evaluation", consequent =  "Treatment")
#&gt; Error in detect_related_activities(hospital, antecedent = "Treatment evaluation", : unused arguments (antecedent = "Treatment evaluation", consequent = "Treatment")</pre></body></html></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Niels Martin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
